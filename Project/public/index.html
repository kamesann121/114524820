<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>地下資源採取ラボ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <h1>地下資源採取ラボ</h1>
    <div class="header-stats">
      総合エメ（あなた）: <span id="total-em">0</span> エメ
    </div>
  </header>

  <main class="hud-layout">
    <aside class="shop">
      <button id="toggle-shop" class="module-btn">🛠️ モジュール</button>
      <div id="shop-panel" class="shop-panel" aria-hidden="true">
        <div id="shop-items" class="shop-items"></div>
      </div>
    </aside>

    <section class="click-area">
      <div class="counts">
        <div class="label">現在の所持エメ（手持ち）: <span id="held-em">0</span></div>
        <div class="label small">総合採取エメ（累計）: <span id="total-em-dup">0</span></div>
      </div>

      <img src="assets/images/mineral.png" alt="資源" id="emerald" />
      <p class="count-line">クリックで採取（+1 所持エメ）</p>
    </section>

    <aside class="chat">
      <h2 class="chat-title">💬 チャット</h2>

      <div class="profile-setup">
        <div class="profile-inputs">
          <input id="username" placeholder="ニックネーム（最大16文字）" maxlength="16" />
          <label class="file-label">
            アバターを選択
            <input type="file" id="avatar-upload" accept="image/*" />
          </label>
        </div>
        <div class="profile-preview">
          <div class="preview-box">
            <img id="avatar-preview" src="assets/images/default-avatar.png" alt="avatar preview" />
            <div id="preview-name">研究者</div>
          </div>
        </div>
      </div>

      <div id="chat-window" class="chat-window" aria-live="polite">
        <ul id="messages" class="messages"></ul>
      </div>

      <form id="chat-form" class="chat-form" autocomplete="off">
        <input id="chat-input" placeholder="メッセージ..." />
        <button type="submit">送信</button>
      </form>

      <div class="ranking-panel">
        <h3>接続中ランキング</h3>
        <ul id="ranking-list" class="ranking-list"></ul>
      </div>
    </aside>
  </main>

  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>
</body>
</html>
